<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors!</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            function computerPlay() {
                const selection = ['rock', 'paper', 'scissors'];
                return selection[Math.floor(Math.random() * selection.length)];
            }
//what this function returns is useless in the way this function is used, what this function returns is useful to play just one round
            function playRound(player, computer) {
                let playerSelection = player.toLowerCase();
                if (playerSelection === computerSelection) {
                    return "It's a tie";

                }
                else if (playerSelection == 'rock') {
                    if (computerSelection == 'scissors') {
                        return "You win. Rock beats scissors";                        
                    }
                    else if (computerSelection == 'paper') {
                        return "You lose! Paper beats rock"
                    }
                }
                else if (playerSelection == 'paper') {
                    if (computerSelection == 'rock') {
                        return "You win. Paper beats rock"
                    }
                    else if (computerSelection == 'scissors') {
                        return "You lose! Scissors beats paper"
                    }
                }
                else if (playerSelection == 'scissors') {
                    if (computerSelection == 'paper') {
                        return "You win. Scissors beats paper"
                    }
                    else if (computerSelection == 'rock') {
                        return "You lose! Rock beats scissors"
                    }
                }
            }

//this function is not required as a task            
            function askPlayer() {
                let input = prompt("What's your choice?");
                input = input.toLowerCase();
                while (input != 'rock' && input != 'paper' && input != 'scissors') {
                    console.log("That's not a valid element to choose. Enter your choice again.");
                    input = prompt("What's your choice? (again ._.)");
                    input = input.toLowerCase();
                }
                return input;
            }

            function game() {
                let i = 1;
                let playerWins = 0;
                let computerWins = 0;
//the number of rounds is 5                
                while (i <= 5) {
//for the playerSelection, the function askPlayer is called and for the computerSelection, the function computerPlay() is called                     
                    let playerSelection = askPlayer();
                    let computerSelection = computerPlay();
//here there is a call to the function that plays just one round and assigns it to a new variable called result                    
                    let result = playRound(playerSelection, computerSelection);
//if variable result includes that word, a special phrase is displayed                    
                    if (result.includes('tie')) {
                        console.log(`Computer chose ${computerSelection}, you chose ${playerSelection} so round ${i} is a tie.`);
//if it's a tie the round doesn't count                       
                    }
//if it's not a tie the round counts and the one who wins sums one 'point'                    
                    else if (result.includes('win')) {
                        console.log(`Computer chose ${computerSelection}, you chose ${playerSelection} so you are the winner of round ${i}`);
                        playerWins++;
                        i++;
                    }
                    else if (result.includes('lose')) {
                        console.log(`Computer chose ${computerSelection}, you chose ${playerSelection} so the computer wins round ${i}`);
                        computerWins++;
                        i++;
                    }
                }
//once the game finishes, it compares the accumulators and displays who won                
                if (playerWins == computerWins) {
                    console.log(`The game is a tie: ${playerWins}-${computerWins}`)
                }
                else if(playerWins > computerWins) {
                    console.log(`You win the game: ${playerWins}-${computerWins}`)
                    
                }
                else {
                    console.log(`You lose the game: ${computerWins}-${playerWins}`)
                }                    
            }

            game()
        </script>
    </body>
</html>